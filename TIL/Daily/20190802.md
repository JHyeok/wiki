### 20190802
---

회사에서 만든 모듈중 파일 업로드가 있었는데, 그 모듈은 jpg png gif의 이미지 확장자에만 업로드가 되도록 하였다.
어느날 아이폰에서 업로드가 안된다고 하여서 확인을 해봤는데, 게임 내 스크린샷은 됬는데, 사진이 되지가 않는 것 같았다.
아이폰 기종마다 다른듯 하지만 그래서 열심히 구글을 찾아서 IOS 사파리에서 파일업로드에 문제가 있다고 답을 찾았는데,
그 답을 적용해도 해결이 되지 않았다.

그래서 스택오버플로우의 답변을 무시하고 차근차근 되짚어보니, 업로드가 되지 않는 파일의 확장자가 다른 것을 알아냈다.
안되는 사진들의 확장자들이 jpeg인것을 확인 후에 jpeg 확장자도 파일업로드가 되도록 업로드쪽 dll을 수정하니 정상적으로 아이폰에서도 업로드 되었다.

유효성 검사의 문제인데 내 경우에는 카프카에서 파일이 오류 났다고 Ticket이 안올라가면 안되기 때문에 해당 부분에 대해서
그렇게 처리한 부분인데 프론트단을 만드신 분은 이미지 유형을 전부다 통과되도록 해놓았고, 백엔드에서 카프카쪽을 담당한 나는 .jpg .png 이런식으로 유형을 정해놓았기 때문에 생긴 문제였다.

협업과 의사소통의 중요성을 알게되었다.